# EasyChatUI
![Python](https://img.shields.io/badge/Python-3.10+-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.103+-green)
![PyTorch](https://img.shields.io/badge/PyTorch-2.0%2BGPU-red)

## é¡¹ç›®ä»‹ç»
ä¸€ä¸ªåŸºäºFastAPIçš„è½»é‡çº§æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹äº¤äº’å¹³å°ï¼Œæ”¯æŒæ¨¡å‹çƒ­åŠ è½½ã€æµå¼å“åº”å’Œèµ„æºç›‘æ§ã€‚

![è¾“å…¥å›¾ç‰‡è¯´æ˜](91b17f925d78a6c4702637b06727aed.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](mmexport1740282121410.png)

![è¾“å…¥å›¾ç‰‡è¯´æ˜](mmexport1740282123683.png)

## æ ¸å¿ƒç‰¹æ€§ âœ¨

- **å³å¼€å³ç”¨** - è‡ªåŠ¨åŠ è½½é»˜è®¤æ¨¡å‹ï¼Œå¿«é€Ÿå¯åŠ¨æœåŠ¡
- **æµå¼äº¤äº’** - æ”¯æŒSSEæµå¼å“åº”ï¼Œå®æ—¶ç”Ÿæˆæ–‡æœ¬
- **å¤šæ¨¡å‹æ”¯æŒ** - æ”¯æŒHuggingFaceæ ¼å¼çš„å„ç±»LLMæ¨¡å‹
- **èµ„æºç›‘æ§** - å®æ—¶æ˜¾ç¤ºCPU/GPUå†…å­˜ä½¿ç”¨æƒ…å†µ
- **çƒ­åŠ è½½æœºåˆ¶** - æ— éœ€é‡å¯æœåŠ¡åˆ‡æ¢ä¸åŒæ¨¡å‹
- **è·¨å¹³å°å…¼å®¹** - æ”¯æŒCUDA GPUåŠ é€Ÿå’ŒCPUæ¨ç†

## å¿«é€Ÿå¼€å§‹ ğŸš€

### ç¯å¢ƒè¦æ±‚
- Python 3.10+
- NVIDIAæ˜¾å¡ï¼ˆæ¨èï¼‰ + CUDAå·¥å…·åŒ…
- è‡³å°‘4GBæ˜¾å­˜ï¼ˆ1.5Bæ¨¡å‹ï¼‰ï¼Œä¹Ÿå¯ä»¥CPUè¿è¡Œ

## å®‰è£…ä¾èµ–
```
pip install -r server/requirements.txt
```
## å®‰è£…æ”¯æŒcuda12.1
```
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
```

## é¡¹ç›®ç›®å½•

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€ server/
â”‚   â”œâ”€ src/
â”‚   â”‚   â”œâ”€ main.py           # ä¸»å…¥å£
â”‚   â”‚   â”œâ”€ model_manager.py  # æ¨¡å‹ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€ schemas.py        # Pydanticæ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ search
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py      # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ bing.py      # Bingå®ç°
â”‚   â”‚   â”‚   â””â”€â”€ baidu.py     # Baiduå®ç°ï¼ˆç¤ºä¾‹ï¼‰
â”‚   â”‚   â””â”€â”€ config.py        # é…ç½®ç®¡ç†
â”‚   â””â”€ requirements.txt      # ä¾èµ–æ–‡ä»¶
â”œâ”€ chat_ui/                  # å‰ç«¯é¡¹ç›®
â”œâ”€ miniconda3/               # ç¯å¢ƒä¾èµ–
â””â”€ models/
    â””â”€ your_model/           # ä½ çš„æ¨¡å‹æ–‡ä»¶
        â”œâ”€ config.json
        â”œâ”€ model.safetensors
        â””â”€ tokenizer.json
```

## å‡†å¤‡æ¨¡å‹æ–‡ä»¶
```
mkdir -p models/your_model
# å°†HuggingFaceæ ¼å¼æ¨¡å‹æ–‡ä»¶æ”¾å…¥è¯¥ç›®å½•
```
## å¯åŠ¨è¿è¡Œ
ç›´æ¥è¿è¡Œç›®å½•ä¸­çš„`ä¸€é”®å¯åŠ¨.bat`

æ³¨æ„ä¸è¦å¿˜è®°è¿è¡Œç¼–è¯‘uié¡¹ç›®ç”Ÿæˆdisté™æ€ç›®å½•ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®è®¿é—®ç›®å½•
```
npm run build
```
æˆ–è€…è¿è¡Œé¡¹ç›®
```
npm run serve
```

### è®¿é—®ç•Œé¢
æµè§ˆå™¨æ‰“å¼€ http://localhost:8000

### æµ‹è¯•APIçŠ¶æ€æ¥å£ï¼š
```
curl http://localhost:8000/api/status
# åº”è¿”å›ï¼š
# {"model_loaded":true,"current_model":"DeepSeek-R1-1","device":"cuda"}
```

### æµ‹è¯•åŠ è½½æ¨¡å‹ï¼ˆç›¸å¯¹é¡¹ç›®æ ¹ç›®å½•çš„è·¯å¾„ï¼‰
```
curl -X POST http://localhost:8000/api/load_model -H "Content-Type: application/json" -d "{\"model_path\": \"models/DeepSeek-R1-1.5B\"}"
```

### æµ‹è¯•å‘é€é—®ç­”è¯·æ±‚

```
# æµå¼æµ‹è¯•
curl -X POST "http://localhost:8000/v1/chat/completions" -H "Content-Type: application/json" -d "{\"messages\": [{\"role\": \"user\", \"content\": \"ä½ å¥½ï¼Œè¯·å†™ä¸€é¦–å…³äºç§‹å¤©çš„è¯—\"}],\"stream\":true}" --no-buffer -v


# éæµå¼æµ‹è¯•
curl -X POST "http://localhost:8000/v1/chat/completions" -H "Content-Type: application/json" -d "{\"messages\": [{\"role\": \"user\", \"content\": \"ä½ å¥½\"}]}"
```

### æµ‹è¯•ç³»ç»Ÿèµ„æºå ç”¨çŠ¶æ€
```
curl http://localhost:8000/api/system_info
# åº”è¿”å›ï¼š
# {"cpu_usage":"0.0%","memory_used":"7.66 GB","memory_total":"15.90 GB","gpu_memory_used":"3.33 GB","gpu_memory_total":"6.00 GB"}
```

## é¡¹ç›®è´¡çŒ®
1. e4glet

## é¡¹ç›®åœ°å€
https://gitee.com/e4glet/easy-chat-ui

## ä¸€é”®ç«¯å®Œæ•´åŒ…ã€ŒEasyChatUI_Deepseek_R1_made_by_e4glet_v1.3.1.rarã€
ç‚¹å‡»é“¾æ¥å³å¯ä¸‹è½½ã€‚
é“¾æ¥ï¼šhttps://pan.quark.cn/s/b8ce68d1cbaf